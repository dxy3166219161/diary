#需求分析

##一、用户管理
###1、用户注册
###2、用户登录
###3、用户信息编辑
###4、用户列表
###5、用户信息详情查询
###6、用户删除

##二、日记管理【并入文档管理中，对文档接口进行深度优化即可保证逻辑畅通】
###1、新增日记【每日可创建多个日记】
###2、修改日记
###3、查询日记详情
###4、查询日记列表
###5、删除日记（移入回收站）
###6、移除日记（彻底删除）

##三、文档/日记管理
###1、文档列表树结构查询
###2、文档详情查询
####（1）、日记
##### - 文档类型为年份时，查询当前年份的所有日记【文档类型为日记】，以列表的形式展示时间以及日记摘要
##### - 文档类型为月份时，查询当前年、月份的所有日记【文档类型为日记】，以列表的形式展示时间以及日记摘要
##### - 文档类型为日记时，直接获取x年x月x日的日记信息
####（2）、文档
##### - 文档类型为文件夹时，查询父节点为当前文件夹的所有子文件、子文件夹的文件名、文件夹名和摘要
##### - 文件类型为文件时，直接展示文件的信息
######这些接口均可拆分，拆分后划分在不同的服务下

###3、文档列表查询【文件嘉下有那些文件】
###4、文档修改
###5、文档删除（移入回收站）
###6、文档删除【物理删除】
###7、新增文档
####（1）、日记
##### - 新增日记时，检查是否有当前年月的上级目录
##### - 没有年份则默认创建当前年份的文档【文档类型为年份】
##### - 没有月份则默认创建当前月份的文档【文档类型为月份】以及选择的时间的日记【文档类型为日记】
####（2）、文档
##### - 文档创建时，若没有指定父级目录则直接存入根节点下
##### - 若指定了父级目录则存入指定的父级目录下即可
##### - 文档创建接口也可以创建文件夹、子级文件夹【文档类型为目录】--注意：此处建议单独开一个创建文件夹的接口
######数据库初始化时，需要为日记以及文档分别指定一个默认的根节点，分别命名为：我的日记/文档资料


##四、日历管理

##五、API服务（直接入接口）
###接口列表：
####1、数据库数据备份【查询所有数据，进行备份，备份的位置是自己的电脑】

##五、util工具
###1、验证码生成


#数据库设计
##1、日记表
<table height="100%">
    <tr >
        <td>字段</td>
        <td>类型</td>
        <td>说明</td>
        <td>示例</td>
    </tr>
    <tr >
        <td>id_</td>
        <td>string</td>
        <td>主键</td>
        <td>32位的uuid</td>
    </tr>
    <tr >
        <td>account_</td>
        <td>string</td>
        <td>用户账号</td>
        <td>dongxingyu</td>
    </tr>
    <tr >
        <td>user_name</td>
        <td>string</td>
        <td>用户名</td>
        <td>董星宇</td>
    </tr>
    <tr >
        <td>diary_name</td>
        <td>string</td>
        <td>日记名称</td>
        <td>2021-11-08</td>
    </tr>
    <tr >
        <td>create_date</td>
        <td>date</td>
        <td>创建时间</td>
        <td>2021-11-08 11:32:00</td>
    </tr>
    <tr >
        <td>detail_</td>
        <td>string</td>
        <td>详情：存储富文本</td>
        <td></td>
    </tr>
    <tr >
        <td>status_</td>
        <td>string</td>
        <td>状态：Y/N 可使用/不可使用</td>
        <td>Y</td>
    </tr>
</table>

##2、文档表
<table height="100%">
    <tr >
        <td>字段</td>
        <td>类型</td>
        <td>说明</td>
        <td>示例</td>
    </tr>
    <tr >
        <td>id_</td>
        <td>string</td>
        <td>主键</td>
        <td>32位的uuid</td>
    </tr>
    <tr >
        <td>account_</td>
        <td>string</td>
        <td>用户账号</td>
        <td>dongxingyu</td>
    </tr>
    <tr >
        <td>user_name</td>
        <td>string</td>
        <td>用户名</td>
        <td>董星宇</td>
    </tr>
    <tr >
        <td>parent_id</td>
        <td>string</td>
        <td>父级id</td>
        <td>32位的uuid</td>
    </tr>
    <tr >
        <td>update_date</td>
        <td>date</td>
        <td>修改时间</td>
        <td>2021-11-08 11:32:00</td>
    </tr>
    <tr >
        <td>summary_</td>
        <td>String</td>
        <td>文档摘要</td>
        <td>文档摘要1245646545555</td>
    </tr>
    <tr >
        <td>detail_</td>
        <td>string</td>
        <td>详情：存储富文本</td>
        <td></td>
    </tr>
    <tr >
        <td>status_</td>
        <td>string</td>
        <td>状态：Y/N 可使用/不可使用</td>
        <td>Y</td>
    </tr>
    <tr >
        <td>type_</td>
        <td>string</td>
        <td>类型：folder/documentation/年 文件夹/文件/年份/月份/日记</td>
        <td>documentation</td>
    </tr>
</table>
